(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{35:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n.n(r),o=n(18),i=n.n(o),j=n(2),l=n(9),u=n(4),s=n(12),b=Object(r.createContext)(null),O=function(e){var t=e.children,n=Object(r.useState)(window.localStorage.getItem("token")),a=Object(u.a)(n,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){o?window.localStorage.setItem("token",o):window.localStorage.removeItem("token")}),[o]),Object(c.jsx)(b.Provider,{value:{state:o,setState:i},children:t})},d=function(e){var t=Object(r.useContext)(b);return e?[t.setState]:[t.state,t.setState]};var h=function(e){e.children;var t=Object(s.a)(e,["children"]),n=Object(j.h)().pathname,r=d();return Object(u.a)(r,1)[0]&&"/login"===n?Object(c.jsx)(j.a,{to:"/"}):Object(c.jsx)(j.b,Object(l.a)({},t))};var x=function(e){e.children;var t=Object(s.a)(e,["children"]),n=d();return Object(u.a)(n,1)[0]?Object(c.jsx)(j.b,Object(l.a)({},t)):Object(c.jsx)(j.a,{to:"/login"})},g=Object(r.createContext)(null),p=function(e){var t=e.children,n=Object(r.useState)(window.localStorage.getItem("language")||"en"),a=Object(u.a)(n,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){o?window.localStorage.setItem("language",o):window.localStorage.removeItem("language")}),[o]),Object(c.jsx)(g.Provider,{value:{state:o,setState:i},children:t})},f=function(e){var t=Object(r.useContext)(g);return e?[t.setState]:[t.state,t.setState]},m=[{name:"English",prop:"en"},{name:"O'zbekcha",prop:"uz"}],v={en:{NAV:{home:"Home",about:"About",private:"Private",logout:"Logout",login:"Login"}},uz:{NAV:{home:"Asosiy sahifa",about:"Haqida",private:"Shaxsiy",logout:"Chiqish",login:"Kirish"}}};var S=function(){var e=f(),t=Object(u.a)(e,2),n=t[0],r=t[1],a=d(),o=Object(u.a)(a,2),i=o[0],l=o[1],s=Object(j.g)().push;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){return s("/")},children:v[n].NAV.home})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){return s("/about")},children:v[n].NAV.about})}),Object(c.jsx)("select",{defaultValue:n,onChange:function(e){return r(e.target.value)},children:m.map((function(e,t){return Object(c.jsx)("option",{value:e.prop,children:e.name},t)}))}),i&&Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){return s("/private")},children:v[n].NAV.private})}),!i&&Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){return s("/login")},children:v[n].NAV.login})}),i&&Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){return l(null)},children:v[n].NAV.logout})})]})})})};var w=function(){return Object(c.jsx)(c.Fragment,{children:"Home"})};var k=function(){return Object(c.jsx)(c.Fragment,{children:"About"})};var C=function(){var e=d(!0),t=Object(u.a)(e,1)[0];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("button",{onClick:function(){return t(Math.random())},children:"Login"})})},A=n(17),F=n.n(A),V=n(20),I=n.p+"static/media/spinner.dbb22bcf.gif";var N=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("img",{alt:"loader",src:I})})};var E=function(){var e=Object(r.useState)({loading:!0,error:null,data:[]}),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){Object(V.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/todos");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a((function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1,data:n})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a((function(t){return Object(l.a)(Object(l.a)({},t),{},{error:e.t0})}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),Object(c.jsxs)(c.Fragment,{children:[!n.error&&n.loading&&Object(c.jsx)(N,{}),n.error&&Object(c.jsx)(c.Fragment,{children:n.error.message}),n.data.length>0&&Object(c.jsx)("ol",{children:n.data.map((function(e){return Object(c.jsx)("li",{children:e.title},e.id)}))})]})};var y=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S,{}),Object(c.jsxs)(j.d,{children:[Object(c.jsx)(h,{path:"/",component:w,exact:!0}),Object(c.jsx)(h,{path:"/about",component:k,exact:!0}),Object(c.jsx)(h,{path:"/login",component:C,exact:!0}),Object(c.jsx)(x,{path:"/private",component:E,exact:!0})]})]})},z=n(10);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(z.a,{children:Object(c.jsx)(O,{children:Object(c.jsx)(p,{children:Object(c.jsx)(y,{})})})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.7a4ba81e.chunk.js.map